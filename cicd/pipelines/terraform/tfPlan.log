{"format_version":"1.1","terraform_version":"1.2.5","planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.example_custom_manifests.kustomization_resource.p0[\"_/Namespace/_/test\"]","mode":"managed","type":"kustomization_resource","name":"p0","index":"_/Namespace/_/test","provider_name":"registry.terraform.io/kbst/kustomization","schema_version":0,"values":{"id":"5299a424-82a4-416b-b785-5f03c1c85263","manifest":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"labels\":{\"name\":\"test\"},\"name\":\"test\"}}","timeouts":null},"sensitive_values":{}},{"address":"module.example_custom_manifests.kustomization_resource.p1[\"jenkins.io/Jenkins/default/example\"]","mode":"managed","type":"kustomization_resource","name":"p1","index":"jenkins.io/Jenkins/default/example","provider_name":"registry.terraform.io/kbst/kustomization","schema_version":0,"values":{"id":"3185a109-cd18-45e6-9088-f3d795c99cec","manifest":"{\"apiVersion\":\"jenkins.io/v1alpha2\",\"kind\":\"Jenkins\",\"metadata\":{\"name\":\"example\",\"namespace\":\"default\"},\"spec\":{\"configurationAsCode\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"groovyScripts\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"jenkinsAPISettings\":{\"authorizationStrategy\":\"createUser\"},\"master\":{\"containers\":[{\"image\":\"jenkins/jenkins:2.319.1-lts-alpine\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":12,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":240,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":50},\"name\":\"jenkins-master\",\"readinessProbe\":{\"failureThreshold\":10,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":200,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":10},\"resources\":{\"limits\":{\"cpu\":\"2\",\"memory\":\"6Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"500Mi\"}}}],\"disableCSRFProtection\":false},\"seedJobs\":[{\"description\":\"Example Pipelines Repository\",\"id\":\"example\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/example/**/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform2\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"}]}}","timeouts":null},"sensitive_values":{}}],"address":"module.example_custom_manifests"}]}},"resource_changes":[{"address":"module.example_custom_manifests.kustomization_resource.p0[\"_/Namespace/_/test\"]","module_address":"module.example_custom_manifests","mode":"managed","type":"kustomization_resource","name":"p0","index":"_/Namespace/_/test","provider_name":"registry.terraform.io/kbst/kustomization","change":{"actions":["no-op"],"before":{"id":"5299a424-82a4-416b-b785-5f03c1c85263","manifest":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"labels\":{\"name\":\"test\"},\"name\":\"test\"}}","timeouts":null},"after":{"id":"5299a424-82a4-416b-b785-5f03c1c85263","manifest":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"labels\":{\"name\":\"test\"},\"name\":\"test\"}}","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.example_custom_manifests.kustomization_resource.p1[\"jenkins.io/Jenkins/default/example\"]","module_address":"module.example_custom_manifests","mode":"managed","type":"kustomization_resource","name":"p1","index":"jenkins.io/Jenkins/default/example","provider_name":"registry.terraform.io/kbst/kustomization","change":{"actions":["update"],"before":{"id":"3185a109-cd18-45e6-9088-f3d795c99cec","manifest":"{\"apiVersion\":\"jenkins.io/v1alpha2\",\"kind\":\"Jenkins\",\"metadata\":{\"name\":\"example\",\"namespace\":\"default\"},\"spec\":{\"configurationAsCode\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"groovyScripts\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"jenkinsAPISettings\":{\"authorizationStrategy\":\"createUser\"},\"master\":{\"containers\":[{\"image\":\"jenkins/jenkins:2.319.1-lts-alpine\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":12,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":240,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":50},\"name\":\"jenkins-master\",\"readinessProbe\":{\"failureThreshold\":10,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":200,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":10},\"resources\":{\"limits\":{\"cpu\":\"2\",\"memory\":\"6Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"500Mi\"}}}],\"disableCSRFProtection\":false},\"seedJobs\":[{\"description\":\"Example Pipelines Repository\",\"id\":\"example\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/example/**/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"}]}}","timeouts":null},"after":{"id":"3185a109-cd18-45e6-9088-f3d795c99cec","manifest":"{\"apiVersion\":\"jenkins.io/v1alpha2\",\"kind\":\"Jenkins\",\"metadata\":{\"name\":\"example\",\"namespace\":\"default\"},\"spec\":{\"configurationAsCode\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"groovyScripts\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"jenkinsAPISettings\":{\"authorizationStrategy\":\"createUser\"},\"master\":{\"containers\":[{\"image\":\"jenkins/jenkins:2.319.1-lts-alpine\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":12,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":240,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":50},\"name\":\"jenkins-master\",\"readinessProbe\":{\"failureThreshold\":10,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":200,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":10},\"resources\":{\"limits\":{\"cpu\":\"2\",\"memory\":\"6Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"500Mi\"}}}],\"disableCSRFProtection\":false},\"seedJobs\":[{\"description\":\"Example Pipelines Repository\",\"id\":\"example\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/example/**/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform2\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"}]}}","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.2.5","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.example_custom_manifests.data.kustomization_overlay.current","mode":"data","type":"kustomization_overlay","name":"current","provider_name":"registry.terraform.io/kbst/kustomization","schema_version":0,"values":{"common_annotations":null,"common_labels":null,"components":null,"config_map_generator":null,"crds":null,"generator_options":null,"generators":null,"helm_charts":null,"helm_globals":null,"id":"15f4095e890881729eeeaac311cb48d70db871a8c5199d8b111ec0087d8cd867678391affbfc3a758c9257b6cede08722f60bf61d3f688c0a088c816d9cc62fc","ids":["_/Namespace/_/test","jenkins.io/Jenkins/default/example"],"ids_prio":[["_/Namespace/_/test"],["jenkins.io/Jenkins/default/example"],[]],"images":null,"kustomize_options":null,"labels":null,"manifests":{"_/Namespace/_/test":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"labels\":{\"name\":\"test\"},\"name\":\"test\"}}","jenkins.io/Jenkins/default/example":"{\"apiVersion\":\"jenkins.io/v1alpha2\",\"kind\":\"Jenkins\",\"metadata\":{\"name\":\"example\",\"namespace\":\"default\"},\"spec\":{\"configurationAsCode\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"groovyScripts\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"jenkinsAPISettings\":{\"authorizationStrategy\":\"createUser\"},\"master\":{\"containers\":[{\"image\":\"jenkins/jenkins:2.319.1-lts-alpine\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":12,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":240,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":50},\"name\":\"jenkins-master\",\"readinessProbe\":{\"failureThreshold\":10,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":200,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":10},\"resources\":{\"limits\":{\"cpu\":\"2\",\"memory\":\"6Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"500Mi\"}}}],\"disableCSRFProtection\":false},\"seedJobs\":[{\"description\":\"Example Pipelines Repository\",\"id\":\"example\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/example/**/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform2\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"}]}}"},"name_prefix":null,"name_suffix":null,"namespace":null,"patches":null,"replicas":null,"resources":["./manifests/example/namespace.yaml","./manifests/example/jenkins.yaml"],"secret_generator":null,"transformers":null,"vars":null},"sensitive_values":{"ids":[false,false],"ids_prio":[[false],[false],[]],"manifests":{},"resources":[false,false]}},{"address":"module.example_custom_manifests.kustomization_resource.p0[\"_/Namespace/_/test\"]","mode":"managed","type":"kustomization_resource","name":"p0","index":"_/Namespace/_/test","provider_name":"registry.terraform.io/kbst/kustomization","schema_version":0,"values":{"id":"5299a424-82a4-416b-b785-5f03c1c85263","manifest":"{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"labels\":{\"name\":\"test\"},\"name\":\"test\"}}","timeouts":null},"sensitive_values":{},"depends_on":["module.example_custom_manifests.data.kustomization_overlay.current"]},{"address":"module.example_custom_manifests.kustomization_resource.p1[\"jenkins.io/Jenkins/default/example\"]","mode":"managed","type":"kustomization_resource","name":"p1","index":"jenkins.io/Jenkins/default/example","provider_name":"registry.terraform.io/kbst/kustomization","schema_version":0,"values":{"id":"3185a109-cd18-45e6-9088-f3d795c99cec","manifest":"{\"apiVersion\":\"jenkins.io/v1alpha2\",\"kind\":\"Jenkins\",\"metadata\":{\"name\":\"example\",\"namespace\":\"default\"},\"spec\":{\"configurationAsCode\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"groovyScripts\":{\"configurations\":[],\"secret\":{\"name\":\"\"}},\"jenkinsAPISettings\":{\"authorizationStrategy\":\"createUser\"},\"master\":{\"containers\":[{\"image\":\"jenkins/jenkins:2.319.1-lts-alpine\",\"imagePullPolicy\":\"Always\",\"livenessProbe\":{\"failureThreshold\":12,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":240,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":50},\"name\":\"jenkins-master\",\"readinessProbe\":{\"failureThreshold\":10,\"httpGet\":{\"path\":\"/login\",\"port\":\"http\",\"scheme\":\"HTTP\"},\"initialDelaySeconds\":200,\"periodSeconds\":10,\"successThreshold\":1,\"timeoutSeconds\":10},\"resources\":{\"limits\":{\"cpu\":\"2\",\"memory\":\"6Gi\"},\"requests\":{\"cpu\":\"1\",\"memory\":\"500Mi\"}}}],\"disableCSRFProtection\":false},\"seedJobs\":[{\"description\":\"Example Pipelines Repository\",\"id\":\"example\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/example/**/*.groovy\"},{\"description\":\"Example TF Repository\",\"id\":\"terraform\",\"pollSCM\":\"*/1 * * * *\",\"repositoryBranch\":\"main\",\"repositoryUrl\":\"https://github.com/jontaylor-nable/jenkins-local-pipelines.git\",\"targets\":\"seed/jobs/terraform/*.groovy\"}]}}","timeouts":null},"sensitive_values":{},"depends_on":["module.example_custom_manifests.data.kustomization_overlay.current","module.example_custom_manifests.kustomization_resource.p0"]}],"address":"module.example_custom_manifests"}]}}},"configuration":{"provider_config":{"docker":{"name":"docker","full_name":"registry.terraform.io/kreuzwerker/docker","version_constraint":"~\u003e 2.13.0"},"kustomization":{"name":"kustomization","full_name":"registry.terraform.io/kbst/kustomization","version_constraint":"0.9.0","expressions":{"kubeconfig_path":{"constant_value":"~/.kube/config"}}}},"root_module":{"module_calls":{"example_custom_manifests":{"source":"kbst.xyz/catalog/custom-manifests/kustomization","expressions":{"configuration":{"references":["path.root","path.root"]},"configuration_base_key":{"constant_value":"default"}},"module":{"resources":[{"address":"kustomization_resource.p0","mode":"managed","type":"kustomization_resource","name":"p0","provider_config_key":"kustomization","expressions":{"manifest":{"references":["var.sensitive_group_kinds","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value"]}},"schema_version":0,"for_each_expression":{"references":["data.kustomization_overlay.current.ids_prio[0]","data.kustomization_overlay.current.ids_prio","data.kustomization_overlay.current"]}},{"address":"kustomization_resource.p1","mode":"managed","type":"kustomization_resource","name":"p1","provider_config_key":"kustomization","expressions":{"manifest":{"references":["var.sensitive_group_kinds","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value"]}},"schema_version":0,"for_each_expression":{"references":["data.kustomization_overlay.current.ids_prio[1]","data.kustomization_overlay.current.ids_prio","data.kustomization_overlay.current"]},"depends_on":["kustomization_resource.p0"]},{"address":"kustomization_resource.p2","mode":"managed","type":"kustomization_resource","name":"p2","provider_config_key":"kustomization","expressions":{"manifest":{"references":["var.sensitive_group_kinds","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value","data.kustomization_overlay.current.manifests","data.kustomization_overlay.current","each.value"]}},"schema_version":0,"for_each_expression":{"references":["data.kustomization_overlay.current.ids_prio[2]","data.kustomization_overlay.current.ids_prio","data.kustomization_overlay.current"]},"depends_on":["kustomization_resource.p1"]},{"address":"data.kustomization_overlay.current","mode":"data","type":"kustomization_overlay","name":"current","provider_config_key":"kustomization","expressions":{"common_annotations":{"references":["local.cfg[\"common_annotations\"]","local.cfg"]},"common_labels":{"references":["local.cfg[\"common_labels\"]","local.cfg"]},"components":{"references":["local.cfg[\"components\"]","local.cfg"]},"crds":{"references":["local.cfg[\"crds\"]","local.cfg"]},"generators":{"references":["local.cfg[\"generators\"]","local.cfg"]},"name_prefix":{"references":["local.cfg[\"name_prefix\"]","local.cfg"]},"name_suffix":{"references":["local.cfg[\"name_suffix\"]","local.cfg"]},"namespace":{"references":["local.cfg[\"namespace\"]","local.cfg"]},"resources":{"references":["local.cfg[\"resources\"]","local.cfg","local.cfg[\"resources\"]","local.cfg","path.module","local.variant","local.additional_resources"]},"transformers":{"references":["local.cfg[\"transformers\"]","local.cfg"]}},"schema_version":0}],"module_calls":{"configuration":{"source":"github.com/kbst/terraform-kubestack//common/configuration?ref=v0.14.0-beta.1","expressions":{"base_key":{"references":["var.configuration_base_key"]},"configuration":{"references":["var.configuration"]}},"module":{"outputs":{"merged":{"expression":{"references":["local.merged"]}}},"variables":{"base_key":{"description":"The key in the configuration map all other keys inherit from."},"configuration":{"description":"Map with per workspace cluster configuration."}}}}},"variables":{"configuration":{"default":{"apps":{"additional_resources":null,"common_annotations":null,"common_labels":null,"components":null,"config_map_generator":null,"crds":null,"generator_options":null,"generators":null,"images":null,"name_prefix":null,"name_suffix":null,"namespace":null,"patches":null,"replicas":null,"resources":null,"secret_generator":null,"transformers":null,"variant":null,"vars":null},"loc":{"additional_resources":null,"common_annotations":null,"common_labels":null,"components":null,"config_map_generator":null,"crds":null,"generator_options":null,"generators":null,"images":null,"name_prefix":null,"name_suffix":null,"namespace":null,"patches":null,"replicas":null,"resources":null,"secret_generator":null,"transformers":null,"variant":null,"vars":null},"ops":{"additional_resources":null,"common_annotations":null,"common_labels":null,"components":null,"config_map_generator":null,"crds":null,"generator_options":null,"generators":null,"images":null,"name_prefix":null,"name_suffix":null,"namespace":null,"patches":null,"replicas":null,"resources":null,"secret_generator":null,"transformers":null,"variant":null,"vars":null}},"description":"Map with per workspace module configuration."},"configuration_base_key":{"default":"apps","description":"The key in the configuration map all other keys inherit from."},"sensitive_group_kinds":{"default":["_/Secret"],"description":"List of GroupKinds to mark sensitive. Defaults to [\"_/Secret\"]"}}},"version_constraint":"0.3.0"}}}},"relevant_attributes":[{"resource":"module.example_custom_manifests.data.kustomization_overlay.current","attribute":["manifests"]},{"resource":"module.example_custom_manifests.data.kustomization_overlay.current","attribute":["ids_prio",1]}]}
